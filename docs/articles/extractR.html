<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Extract satellite data for feature locations • RSSApkg</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">RSSApkg</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Extract satellite data for feature locations</h1>
                        <h4 class="author">Bart Huntley</h4>
            
            <h4 class="date">2017-06-21</h4>
          </div>

    
    
<div class="contents">
<p><code><a href="../reference/extractR.html">extractR()</a></code> is a function that will extract mean pixel values from dates of Landsat satellite imagery, from locations provided by shape file. It has been optimized to work on USGS Landsat imagery that has been illumination corrected and stored in a <code>date/satellite data</code> folder structure.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/extractR.html">extractR</a></span>(wdir, imdir, option, attrb)</code></pre></div>
<div id="arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#arguments" class="anchor"></a>Arguments</h2>
<ul>
<li><p><strong>wdir</strong> Path to working directory. This directory will include a folder named <code>site_vectors</code> containing individual shape file features and a folder for each unique shape file feature containing date named jpeg images.</p></li>
<li><p><strong>imdir</strong> Path to local archive of satellite imagery at the path/row level.</p></li>
<li><p><strong>option</strong> A vegetation index or single band to be extracted from the imagery. Can be <strong>one of</strong> “i35”, “ndvi”, “b1”, “b2”, “b3”, “b4”, “b5” or “b6”.</p></li>
<li><p><strong>attrb</strong> Name of the attribute table column heading which contains the unique identifier for the features. Commonly these is site names.</p></li>
</ul>
<p><strong>NOTE:</strong> This function is to be run after <code>jpegR</code> and the common arguments above should be the same as those used when running <code>jpegR</code>.</p>
</div>
<div id="what-it-does" class="section level2">
<h2 class="hasAnchor">
<a href="#what-it-does" class="anchor"></a>What it does</h2>
<p>When called <code>extract()</code> will:</p>
<ol style="list-style-type: decimal">
<li>Copy each unique shape file to the appropriate jpeg folder.</li>
<li>Obtain suitable dates of satellite imagery to access from the names of the jpegs remaining in the jpeg folders.</li>
<li>Will extract the mean vegetation index or band values for each unique shape file from each suitable image date. It writes these values to .csv file and stores in the appropriate jpeg folder.</li>
<li>Collates all .csv files into one appropriately named .csv file. This file contains all the extracted values for each of the unique shape files.</li>
</ol>
</div>
<div id="uses" class="section level2">
<h2 class="hasAnchor">
<a href="#uses" class="anchor"></a>Uses</h2>
<p>The main purpose of this function is to extract mean values from satellite imagery that has been quality assessed after using the function <code>jpegR</code>. This function is optimised to extract values for dense time series analysis. This function will work on any multiband imagery provided that:</p>
<ul>
<li>The satellite data is stored in separate date folders (yyyymmdd).</li>
<li>Special care is used to identify the bands of interest. As some satellites have different band designators to others, the vegetation indices i35 and NDVI, may be incorrectly calculated. To be certain of the output when using for non-Landsat data, use <code>extractR</code> to extract single bands and later combine to calculate the desired index.</li>
</ul>
</div>
<div id="example-output" class="section level2">
<h2 class="hasAnchor">
<a href="#example-output" class="anchor"></a>Example Output</h2>
<p><strong>NOTE</strong> re-running this function will overwrite any previous output if the date ranges are the same. Each output .csv will have the name of the beginning and end dates of the imagery processed.</p>
<p>For a single site the output .csv will be formatted:</p>
<table class="table">
<thead><tr class="header">
<th>date</th>
<th>site1</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>10/03/1999</td>
<td>73.11526</td>
</tr>
<tr class="even">
<td>26/03/1999</td>
<td>37.10274</td>
</tr>
<tr class="odd">
<td>etc</td>
<td>etc</td>
</tr>
</tbody>
</table>
<p>Note that this data set will never have any NA values as only suitable imagery is processed.</p>
<p>For the collated sites output the .csv will be formatted:</p>
<table class="table">
<thead><tr class="header">
<th>..</th>
<th>date</th>
<th>site1</th>
<th>site2</th>
<th>etc</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>10/03/1999</td>
<td>73.11526</td>
<td>NA</td>
<td>etc</td>
</tr>
<tr class="even">
<td>2</td>
<td>26/03/1999</td>
<td>37.10274</td>
<td>35.19674</td>
<td>etc</td>
</tr>
<tr class="odd">
<td>3</td>
<td>14/06/1999</td>
<td>NA</td>
<td>44.44317</td>
<td>etc</td>
</tr>
</tbody>
</table>
<p>Note this data set will contain NA values for location/date combinations that were deemed unsuitable after using the <code>jpegR</code> function. This is most commonly due to cloud. Also note that the .csv will contain numbered rows. Other analysis functions take this into consideration.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#arguments">Arguments</a></li>
      <li><a href="#what-it-does">What it does</a></li>
      <li><a href="#uses">Uses</a></li>
      <li><a href="#example-output">Example Output</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Bart Huntley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
